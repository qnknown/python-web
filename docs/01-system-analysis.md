# –ê–Ω–∞–ª—ñ–∑ —Å–∏—Å—Ç–µ–º–∏ Python-web

## 1. –û–≥–ª—è–¥ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ —Å–∏—Å—Ç–µ–º–∏

### 1.1 Backend (Server)
- **Framework**: FastAPI
- **Database**: SQLite –∑ SQLAlchemy ORM
- **Authentication**: JWT —Ç–æ–∫–µ–Ω–∏ –∑ Argon2 —Ö–µ—à—É–≤–∞–Ω–Ω—è–º –ø–∞—Ä–æ–ª—ñ–≤
- **CORS**: –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ frontend
- **Deployment**: Render (https://python-web-back.onrender.com)

### 1.2 Frontend (Client)
- **Framework**: React + Vite
- **Styling**: TailwindCSS
- **Routing**: React Router
- **State Management**: React useState/useEffect hooks
- **Icons**: Lucide React

### 1.3 –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Å–∏—Å—Ç–µ–º–∏

```mermaid
graph TB
    A[React Frontend] -->|HTTP/HTTPS| B[FastAPI Backend]
    B -->|SQLAlchemy ORM| C[SQLite Database]
    B -->|JWT Auth| D[Authentication Layer]
    A -->|LocalStorage| E[Token Storage]
    D -->|Argon2| F[Password Hashing]
```

## 2. –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –º—ñ—Å—Ü—è –≤—ñ–¥–º–æ–≤–∏ —Å–∏—Å—Ç–µ–º–∏

### 2.1 –†—ñ–≤–µ–Ω—å –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

#### 2.1.1 –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫ –ø—Ä–∏ –∑–∞–ø–∏—Å—ñ
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- –û–¥–Ω–æ—á–∞—Å–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (race conditions)
- –ü–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è –¥–∏—Å–∫—É
- –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å (SQLite lock)
- –ü–æ—Ä—É—à–µ–Ω–Ω—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –æ–±–º–µ–∂–µ–Ω—å

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üî¥ –í–ò–°–û–ö–ê

**–ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –∑ –ø—Ä–æ–±–ª–µ–º–æ—é:**
```python
# main.py, lines 85-87
user = User(...)
db.add(user)
db.commit()  # –ù–µ–º–∞—î –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫
```

#### 2.1.2 –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π –¥–ª—è –∑–∞–º–æ–≤–ª–µ–Ω—å
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ OrderItems –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Order
- –ß–∞—Å—Ç–∫–æ–≤–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –±–µ–∑ —Ç–æ–≤–∞—Ä—ñ–≤
- –ù–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üî¥ –í–ò–°–û–ö–ê

**–ü—Ä–æ–±–ª–µ–º–Ω–∏–π –∫–æ–¥:**
```python
# main.py, lines 117-139
db_order = Order(...)
db.add(db_order)
db.commit()

for item in order.items:
    db_item = OrderItem(...)
    db.add(db_item)  # –Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∞ —Ç—É—Ç - Order –≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π

db.commit()
```

#### 2.1.3 –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —ñ–Ω–¥–µ–∫—Å—ñ–≤ –¥–ª—è –ø–æ—à—É–∫—É
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- –ü–æ–≤—ñ–ª—å–Ω—ñ –∑–∞–ø–∏—Ç–∏ –ø—Ä–∏ –≤–µ–ª–∏–∫—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö
- Timeout –ø—Ä–∏ –ø–æ—à—É–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∞–±–æ –∑–∞–º–æ–≤–ª–µ–Ω—å

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üü° –°–ï–†–ï–î–ù–Ø

### 2.2 –†—ñ–≤–µ–Ω—å API

#### 2.2.1 –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- –í—ñ–¥'—î–º–Ω—ñ —Ü—ñ–Ω–∏ –∞–±–æ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ
- –ü–æ—Ä–æ–∂–Ω—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è
- SQL injection (—á–∞—Å—Ç–∫–æ–≤–æ –∑–∞—Ö–∏—â–µ–Ω–æ ORM)
- XSS –∞—Ç–∞–∫–∏ —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –¥–∞–Ω—ñ

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üî¥ –í–ò–°–û–ö–ê

**–ü—Ä–∏–∫–ª–∞–¥:**
```python
# schemas.py - –Ω–µ–º–∞—î –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
class OrderItemCreate(BaseModel):
    product_name: str
    quantity: int  # –ù–µ–º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–∞ > 0
    price: float   # –ù–µ–º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–∞ >= 0
```

#### 2.2.2 –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å rate limiting
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- DDoS –∞—Ç–∞–∫–∏
- –°–ø–∞–º —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ–π
- –ù–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –±–∞–∑—É –¥–∞–Ω–∏—Ö

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üî¥ –í–ò–°–û–ö–ê

#### 2.2.3 Hardcoded SECRET_KEY
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- –ö–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü—ñ—è —Ç–æ–∫–µ–Ω—ñ–≤
- –ù–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–∏–π –¥–æ—Å—Ç—É–ø
- –ù–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ä–æ—Ç–∞—Ü—ñ—ó –∫–ª—é—á—ñ–≤

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üî¥ –ö–†–ò–¢–ò–ß–ù–ê

```python
# auth.py, line 5
SECRET_KEY = "SECRET_KEY_CHANGE_ME"  # –ù–µ–±–µ–∑–ø–µ—á–Ω–æ!
```

#### 2.2.4 –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫ –º–µ—Ä–µ–∂—ñ
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- Timeout –∑–∞–ø–∏—Ç—ñ–≤
- –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∑–≤'—è–∑–∫—É –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
- –ü–∞–¥—ñ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–∞

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üü° –°–ï–†–ï–î–ù–Ø

### 2.3 –†—ñ–≤–µ–Ω—å –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

#### 2.3.1 –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å refresh —Ç–æ–∫–µ–Ω—ñ–≤
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- –í—Ç—Ä–∞—Ç–∞ —Å–µ—Å—ñ—ó –ø—ñ—Å–ª—è 24 –≥–æ–¥–∏–Ω
- –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥—É

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üü° –°–ï–†–ï–î–ù–Ø

#### 2.3.2 –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å–∏–ª–∏ –ø–∞—Ä–æ–ª—è
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- –°–ª–∞–±–∫—ñ –ø–∞—Ä–æ–ª—ñ (1234)
- –õ–µ–≥–∫–∏–π –ø—ñ–¥–±—ñ—Ä –ø–∞—Ä–æ–ª—ñ–≤

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üü† –í–ò–°–û–ö–ê

#### 2.3.3 –ù–µ–º–∞—î –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ brute-force –∞—Ç–∞–∫
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- –ü—ñ–¥–±—ñ—Ä –ø–∞—Ä–æ–ª—ñ–≤
- –ö–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü—ñ—è –æ–±–ª—ñ–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üî¥ –í–ò–°–û–ö–ê

### 2.4 –†—ñ–≤–µ–Ω—å Frontend

#### 2.4.1 –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- Backend –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π
- Timeout –º–µ—Ä–µ–∂—ñ
- –ù–µ–≤–∞–ª—ñ–¥–Ω—ñ –¥–∞–Ω—ñ –≤—ñ–¥ API

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üü° –°–ï–†–ï–î–ù–Ø

**–ü—Ä–æ–±–ª–µ–º–Ω–∏–π –∫–æ–¥:**
```javascript
// MainPage.jsx, lines 26-53
try {
  const response = await fetch('https://python-web-back.onrender.com/products');
  if (!response.ok) throw new Error('Failed to fetch products');
  // –ê–ª–µ –Ω–µ–º–∞—î –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö —Å–ø—Ä–æ–±
} catch (err) {
  setError('–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ç–æ–≤–∞—Ä–∏. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.');
  // –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –º–æ–∂–µ –Ω—ñ—á–æ–≥–æ –∑—Ä–æ–±–∏—Ç–∏
}
```

#### 2.4.2 –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ñ–æ—Ä–º –Ω–∞ frontend
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- –ù–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –¥–∞–Ω—ñ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—é—Ç—å—Å—è –Ω–∞ backend
- –ü–æ–≥–∞–Ω–∞ UX

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üü° –°–ï–†–ï–î–ù–Ø

#### 2.4.3 –¢–æ–∫–µ–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ localStorage
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- XSS –∞—Ç–∞–∫–∏ –º–æ–∂—É—Ç—å –≤–∫—Ä–∞—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∏
- –ù–µ–º–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ logout

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üü† –í–ò–°–û–ö–ê

#### 2.4.4 Hardcoded API URL
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- –ù–µ–º–æ–∂–ª–∏–≤–æ –ª–µ–≥–∫–æ –∑–º—ñ–Ω–∏—Ç–∏ backend URL
- –ü—Ä–æ–±–ª–µ–º–∏ –∑ development/production

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üü¢ –ù–ò–ó–¨–ö–ê

```javascript
// MainPage.jsx, line 30
const response = await fetch('https://python-web-back.onrender.com/products');
```

### 2.5 –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–æ—á–∫–∏

#### 2.5.1 CORS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- –î–æ–∑–≤–æ–ª–µ–Ω–æ –≤—Å—ñ origins (`allow_origins=["*"]`)
- –ú–æ–∂–ª–∏–≤—ñ CSRF –∞—Ç–∞–∫–∏

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üî¥ –í–ò–°–û–ö–ê

```python
# main.py, lines 39-45
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],  # –ù–µ–±–µ–∑–ø–µ—á–Ω–æ!
    ...
)
```

#### 2.5.2 –ù–µ–º–∞—î –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è API
**–£–º–æ–≤–∏ –≤—ñ–¥–º–æ–≤–∏:**
- Breaking changes –ø–æ—Ä—É—à—É—é—Ç—å frontend
- –ù–µ–º–∞—î –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Å—Ç–∞—Ä—ñ –≤–µ—Ä—Å—ñ—ó

**–ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å**: üü° –°–ï–†–ï–î–ù–Ø

## 3. –ö—Ä–∏—Ç–∏—á–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –≤—ñ–¥–º–æ–≤–∏

### 3.1 –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –û–¥–Ω–æ—á–∞—Å–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑ –æ–¥–Ω–∞–∫–æ–≤–∏–º username

**–ö—Ä–æ–∫–∏:**
1. –î–≤–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –Ω–∞–º–∞–≥–∞—é—Ç—å—Å—è –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –∑ username "john"
2. –û–±–∏–¥–≤–∞ –∑–∞–ø–∏—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫—É `existing = db.query(User).filter...`
3. –û–±–∏–¥–≤–∞ –Ω–∞–º–∞–≥–∞—é—Ç—å—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
4. SQLite –≤–∏–∫–∏–¥–∞—î –ø–æ–º–∏–ª–∫—É —É–Ω—ñ–∫–∞–ª—å–Ω–æ–≥–æ –æ–±–º–µ–∂–µ–Ω–Ω—è
5. –û–¥–∏–Ω –∑–∞–ø–∏—Ç –ø–∞–¥–∞—î, –∞–ª–µ –ø–æ–º–∏–ª–∫–∞ –Ω–µ –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è

**–ù–∞—Å–ª—ñ–¥–∫–∏:** 500 Internal Server Error, –ø–æ–≥–∞–Ω–∞ UX

### 3.2 –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ OrderItems

**–ö—Ä–æ–∫–∏:**
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å—Ç–≤–æ—Ä—é—î –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑ 3 —Ç–æ–≤–∞—Ä–∞–º–∏
2. Order —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —ñ –∫–æ–º—ñ—Ç–∏—Ç—å—Å—è
3. –ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ 2-–≥–æ OrderItem –≤–∏–Ω–∏–∫–∞—î –ø–æ–º–∏–ª–∫–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, DB lock)
4. –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è –Ω–µ –≤—ñ–¥–∫–æ—á—É—î—Ç—å—Å—è
5. –í –±–∞–∑—ñ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è Order –±–µ–∑ –≤—Å—ñ—Ö Items

**–ù–∞—Å–ª—ñ–¥–∫–∏:** –ù–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ –¥–∞–Ω—ñ, –≤—Ç—Ä–∞—Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Ç–æ–≤–∞—Ä–∏

### 3.3 –°—Ü–µ–Ω–∞—Ä—ñ–π 3: –í–∏—Ç—ñ–∫ JWT SECRET_KEY

**–ö—Ä–æ–∫–∏:**
1. –ö–æ–¥ –ø—É–±–ª—ñ–∫—É—î—Ç—å—Å—è –≤ GitHub –∑ hardcoded SECRET_KEY
2. –ó–ª–æ–≤–º–∏—Å–Ω–∏–∫ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å SECRET_KEY
3. –ì–µ–Ω–µ—Ä—É—î —Ç–æ–∫–µ–Ω–∏ –¥–ª—è –±—É–¥—å-—è–∫–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –≤–∫–ª—é—á–∞—é—á–∏ admin
4. –û—Ç—Ä–∏–º—É—î –ø–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ —Å–∏—Å—Ç–µ–º–∏

**–ù–∞—Å–ª—ñ–¥–∫–∏:** –ü–æ–≤–Ω–∞ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü—ñ—è –±–µ–∑–ø–µ–∫–∏

### 3.4 –°—Ü–µ–Ω–∞—Ä—ñ–π 4: DDoS –Ω–∞ endpoint /register

**–ö—Ä–æ–∫–∏:**
1. –ó–ª–æ–≤–º–∏—Å–Ω–∏–∫ –Ω–∞–¥—Å–∏–ª–∞—î 10000 –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ /register –∑–∞ —Å–µ–∫—É–Ω–¥—É
2. –ù–µ–º–∞—î rate limiting
3. –°–µ—Ä–≤–µ—Ä —Å—Ç–≤–æ—Ä—é—î 10000 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
4. –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –ø–µ—Ä–µ–ø–æ–≤–Ω—é—î—Ç—å—Å—è
5. –°–µ—Ä–≤–µ—Ä –ø–∞–¥–∞—î

**–ù–∞—Å–ª—ñ–¥–∫–∏:** Denial of Service, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∏

### 3.5 –°—Ü–µ–Ω–∞—Ä—ñ–π 5: XSS —á–µ—Ä–µ–∑ product name

**–ö—Ä–æ–∫–∏:**
1. –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä —Å—Ç–≤–æ—Ä—é—î –ø—Ä–æ–¥—É–∫—Ç –∑ –Ω–∞–∑–≤–æ—é `<script>alert('XSS')</script>`
2. Frontend –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –Ω–∞–∑–≤—É –±–µ–∑ —Å–∞–Ω—ñ—Ç–∏–∑–∞—Ü—ñ—ó
3. JavaScript –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
4. –ú–æ–∂–ª–∏–≤–µ –≤–∏–∫—Ä–∞–¥–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤ –∑ localStorage

**–ù–∞—Å–ª—ñ–¥–∫–∏:** –ö–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü—ñ—è –æ–±–ª—ñ–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

## 4. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —â–æ–¥–æ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### 4.1 –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 1 (–ö–†–ò–¢–ò–ß–ù–û)
1. ‚úÖ –í–∏–Ω–µ—Å—Ç–∏ SECRET_KEY –≤ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è
2. ‚úÖ –î–æ–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –¥–∞–Ω–∏—Ö –Ω–∞ —Ä—ñ–≤–Ω—ñ Pydantic schemes
3. ‚úÖ –û–±–≥–æ—Ä–Ω—É—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω—å –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
4. ‚úÖ –û–±—Ä–æ–±–∏—Ç–∏ –≤—Å—ñ database exceptions
5. ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ CORS –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ origins
6. ‚úÖ –î–æ–¥–∞—Ç–∏ rate limiting (slowapi –∞–±–æ middleware)

### 4.2 –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 2 (–í–ò–°–û–ö–ò–ô)
1. ‚úÖ –î–æ–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é —Å–∏–ª–∏ –ø–∞—Ä–æ–ª—è
2. ‚úÖ –î–æ–¥–∞—Ç–∏ –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ brute-force (login attempts limit)
3. ‚úÖ –î–æ–¥–∞—Ç–∏ —Å–∞–Ω—ñ—Ç–∏–∑–∞—Ü—ñ—é HTML –Ω–∞ frontend
4. ‚úÖ –î–æ–¥–∞—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ñ —Å–ø—Ä–æ–±–∏ –¥–ª—è –º–µ—Ä–µ–∂–µ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
5. ‚úÖ –ü–æ–∫—Ä–∞—â–∏—Ç–∏ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫ –Ω–∞ frontend

### 4.3 –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 3 (–°–ï–†–ï–î–ù–Ü–ô)
1. ‚úÖ –î–æ–¥–∞—Ç–∏ refresh —Ç–æ–∫–µ–Ω–∏
2. ‚úÖ –î–æ–¥–∞—Ç–∏ –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è API (/api/v1/)
3. ‚úÖ –î–æ–¥–∞—Ç–∏ —ñ–Ω–¥–µ–∫—Å–∏ –¥–ª—è —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
4. ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∏ –∑ localStorage –≤ httpOnly cookies

## 5. –í–∏—Å–Ω–æ–≤–∫–∏

–°–∏—Å—Ç–µ–º–∞ –º–∞—î **12 –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö** —Ç–∞ **8 –≤–∏—Å–æ–∫–æ–ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–Ω–∏—Ö** –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏—Ö –º—ñ—Å—Ü—å –≤—ñ–¥–º–æ–≤–∏. –ù–∞–π–±—ñ–ª—å—à –∫—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Å—Ç–æ—Å—É—é—Ç—å—Å—è:
- **–ë–µ–∑–ø–µ–∫–∏**: hardcoded secrets, CORS, XSS, brute-force
- **–¶—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö**: –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π, –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ**: –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å rate limiting, –æ–±—Ä–æ–±–∫–∏ –º–µ—Ä–µ–∂–µ–≤–∏—Ö –ø–æ–º–∏–ª–æ–∫

–î–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ —Å–∏—Å—Ç–µ–º–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≤ –ø–µ—Ä—à—É —á–µ—Ä–≥—É —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—É 1.
